@page "/general-setup/township/create"

<div class="max-w-xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-500">
    <div class="text-center">
        <h1 class="text-4xl font-black text-base-content tracking-tight">Create Township</h1>
        <p class="text-base-content/60 mt-2 font-medium">Add a new township to the system.</p>
    </div>

    <UiCard shadow="sm">
        <EditForm Model="@_model" OnValidSubmit="OnValidSubmit">
            <DataAnnotationsValidator />
            
            <div class="p-8 space-y-6">
                <div class="form-control w-full">
                    <label class="label"><span class="label-text font-bold text-[10px] uppercase tracking-widest opacity-60">Township Code</span></label>
                    <InputText @bind-Value="_model.TownshipCode" 
                               class="input input-bordered focus:input-primary transition-all font-mono font-bold" 
                               placeholder="e.g. TS-001" />
                    <ValidationMessage For="@(() => _model.TownshipCode)" class="mt-1 text-[10px] text-error font-bold uppercase" />
                </div>

                <div class="form-control w-full">
                    <label class="label"><span class="label-text font-bold text-[10px] uppercase tracking-widest opacity-60">Township Name</span></label>
                    <InputText @bind-Value="_model.TownshipName" 
                               class="input input-bordered focus:input-primary transition-all font-bold" 
                               placeholder="e.g. Kamayut" />
                    <ValidationMessage For="@(() => _model.TownshipName)" class="mt-1 text-[10px] text-error font-bold uppercase" />
                </div>

                <div class="form-control w-full">
                    <label class="label"><span class="label-text font-bold text-[10px] uppercase tracking-widest opacity-60">Assigned State</span></label>
                    <InputSelect @bind-Value="_model.StateCode" class="select select-bordered focus:select-primary transition-all font-bold">
                        <option value="">Select assigned state</option>
                        @if (_stateListResponseModel is not null && _stateListResponseModel.Data is not null)
                        {
                            @foreach (var item in _stateListResponseModel.Data)
                            {
                                <option value="@item.StateCode">@item.StateName (@item.StateCode)</option>
                            }
                        }
                    </InputSelect>
                    <ValidationMessage For="@(() => _model.StateCode)" class="mt-1 text-[10px] text-error font-bold uppercase" />
                </div>
            </div>

            <div class="p-8 pt-0 flex items-center justify-end gap-4">
                <button type="button" class="btn btn-ghost" @onclick="@(() => NavigationManager.NavigateTo("/general-setup/township"))">
                    Cancel
                </button>
                <button type="submit" class="btn btn-primary shadow-lg shadow-primary/20">
                    Save Township
                </button>
            </div>
        </EditForm>
    </UiCard>
</div>
