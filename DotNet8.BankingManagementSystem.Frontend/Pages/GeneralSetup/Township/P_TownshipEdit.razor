@page "/general-setup/township/edit/{TownshipCode}"

@if (_model is not null)
{
    <div class="max-w-xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-500">
        <div class="text-center">
            <h1 class="text-4xl font-black text-base-content tracking-tight">Edit Township</h1>
            <p class="text-base-content/60 mt-2 font-medium">Update details for <span class="font-mono font-bold text-primary">@TownshipCode</span>.</p>
        </div>

        <UiCard shadow="sm">
            <EditForm Model="@_model" OnValidSubmit="OnValidSubmit">
                <DataAnnotationsValidator />
                
                <div class="p-8 space-y-6">
                    <div class="form-control w-full">
                        <label class="label"><span class="label-text font-bold text-[10px] uppercase tracking-widest opacity-60">Township Code</span></label>
                        <div class="input input-bordered bg-base-200/50 text-base-content/40 cursor-not-allowed flex items-center px-4 font-mono font-bold">
                            @_model.TownshipCode
                        </div>
                    </div>

                    <div class="form-control w-full">
                        <label class="label"><span class="label-text font-bold text-[10px] uppercase tracking-widest opacity-60">Township Name</span></label>
                        <InputText @bind-Value="_model.TownshipName" 
                                   class="input input-bordered focus:input-primary transition-all font-bold" 
                                   placeholder="e.g. Kamayut" />
                        <ValidationMessage For="@(() => _model.TownshipName)" class="mt-1 text-[10px] text-error font-bold uppercase" />
                    </div>

                    <div class="form-control w-full">
                        <label class="label"><span class="label-text font-bold text-[10px] uppercase tracking-widest opacity-60">State Code</span></label>
                        <InputText @bind-Value="_model.StateCode" 
                                   class="input input-bordered focus:input-primary transition-all font-mono font-bold" 
                                   placeholder="e.g. MM-01" />
                        <ValidationMessage For="@(() => _model.StateCode)" class="mt-1 text-[10px] text-error font-bold uppercase" />
                    </div>
                </div>

                <div class="p-8 pt-0 flex items-center justify-end gap-4">
                    <button type="button" class="btn btn-ghost" @onclick="@(() => NavigationManager.NavigateTo("/general-setup/township"))">
                        Cancel
                    </button>
                    <button type="submit" class="btn btn-primary shadow-lg shadow-primary/20">
                        Save Changes
                    </button>
                </div>
            </EditForm>
        </UiCard>
    </div>
}
